/* =========================================
   1. VARIABLES & CONFIGURATION
   ========================================= */
:root {
    /* STRAWBERRY MILK PALETTE */
    --bg-light: #fff6ee;     
    --card-bg: #ffffff;      
    --text-main: #4b3a32;    
    --text-muted: #8d7b72;   
    
    /* ACCENTS */
    --accent-pink: #ff86b6;  
    --accent-blue: #bfe8ff;  
    --accent-peach: #ffb38a; 
    --accent-lightpeach: #ffe8dc;
    --bg-gradient: linear-gradient(135deg, #fff6ee 0%, #ffeaf2 100%);
    
    /* DIMENSIONS (Config for Desktop) */
    --grid-gap: 20px;
    --row-height: 200px;
}

/* =========================================
   2. GLOBAL RESET & BODY
   ========================================= */
* {
    box-sizing: border-box; /* Crucial for sizing */
}

body {
  background: var(--bg-gradient);
  background-attachment: fixed;
  color: var(--text-main);
  font-family: 'Quicksand', 'Varela Round', sans-serif;

  /* Sticky-footer layout */
  display: flex;
  flex-direction: column;

  /* Use modern viewport units on mobile; keep vh as fallback */
  min-height: 100vh;
  min-height: 100svh;

  margin: 0;

  /* Consistent page padding + safe areas (iOS notch / home bar) */
  padding: 20px;
  padding-top: calc(20px + env(safe-area-inset-top));
  padding-bottom: calc(20px + env(safe-area-inset-bottom));

  /* Center horizontally only */
  align-items: center;

  /* IMPORTANT: donâ€™t vertically center the whole page */
  justify-content: flex-start;
}

/* Make main take remaining space when content is short */
.bento-container {
  flex: 1;
}


/* =========================================
   3. BASE CARD PHYSICS (Shared Styles)
   ========================================= */
.card {
    background-color: var(--card-bg);
    border: 2px solid var(--accent-lightpeach); 
    box-shadow: 0 8px 24px rgba(255, 134, 182, 0.15); 
    border-radius: 24px;
    padding: 20px;
    
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: all 0.2s ease-in-out;
    
    position: relative; /* Locks absolute content inside */
    overflow: hidden;   /* Cuts off anything sticking out */
    color: var(--text-main);
}

/* Typography inside cards */
.card h3 {
    font-weight: 800; 
    margin: 0 0 5px 0;
    background: linear-gradient(to right, #ff86b6, #ffb38a);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent; /* Fallback */
    display: inline-block;
}

.card p {
    font-family: 'Quicksand', sans-serif; 
    font-size: 0.95rem;      
    font-weight: 600;        
    color: var(--text-main); 
    margin: 0;               
    line-height: 1.4; 
    z-index: 2; /* Ensure text sits above icons */
    position: relative;
}

/* Default Hover Physics */
.card:hover {
    transform: translateY(-5px) scale(1.02);
    border-color: rgba(255, 134, 182, 0.4); 
    box-shadow: 0 15px 35px rgba(255, 134, 182, 0.2); 
}

/* =========================================
   4. DESKTOP GRID SYSTEM
   ========================================= */
.bento-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 Columns */
    grid-auto-rows: var(--row-height); 
    gap: var(--grid-gap); 
    max-width: 1000px; 
    width: 100%;
    margin: auto;
}

/* =========================================
   5. INDIVIDUAL CARD MODULES
   ========================================= */

/* --- A. THE HERO CARDS --- */

/* 1. VIDEO PLAYER */
.card-video {
    grid-column: span 2;
    grid-row: span 2;
    padding: 0; /* Full bleed video */
}
/* Live Mode Pulse */
.card-video.is-live {
    border-color: #ff4646 !important;
    box-shadow: 0 0 30px rgba(255, 0, 0, 0.4) !important;
    animation: pulse-red 2s infinite;
    z-index: 5;
}

/* 2. BIO CARD */
.card-bio {
    grid-column: span 1;
    grid-row: span 2;
    background-color: #2d2d2d;
    padding: 0;
    border: none;
}
.card-bio .bio-image {
    width: 100%; height: 100%;
    object-fit: cover;
    position: absolute; top: 0; left: 0;
    z-index: 1;
    transition: transform 0.5s ease;
}
.card-bio:hover .bio-image { transform: scale(1.05); }
.card-bio .bio-content {
    position: absolute; bottom: 0; left: 0;
    width: 100%; padding: 20px;
    z-index: 2;
    background: linear-gradient(to top, rgba(75, 58, 50, 0.8), transparent);
}
.card-bio h2 {
    color: white; margin: 0 0 5px 0;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.card-bio p {
    color: white !important; /* Override global dark text */
    text-shadow: 0 1px 3px rgba(0,0,0,0.6);
    opacity: 0.9;
}

/* --- B. SOCIAL CARDS (Standard 1x1) --- */

/* Shared Social Icon Styling */
.card-social .card-icon {
    position: absolute; right: -20px; bottom: -20px;
    width: 120px; height: 120px;
    filter: invert(74%) sepia(80%) saturate(466%) hue-rotate(306deg) brightness(100%) contrast(101%);
    opacity: 0.45; 
    transform: rotate(-15deg);
    transition: all 0.3s ease;
    z-index: 1;
}
.card-social:hover .card-icon {
    opacity: 0.3; transform: rotate(0deg) scale(1.1);
}
/* Shared Social Hover Border */
.card-social:hover {
    border-color: var(--accent-pink) !important;
    box-shadow: 0 12px 30px rgba(255, 134, 182, 0.25);
}

/* 3. TWITTER / X */
.card-twitter:hover { background-color: #f8f8f8; }

/* 4. INSTAGRAM */
.card-insta:hover { background-color: #fdf5fa; }

/* 5. DISCORD */
.card-discord:hover { background-color: #f5f7ff; }

/* 6. SIDE STAGE (Twitch/YouTube Button) */
/* Note: This ID swaps dynamically, so we target the ID for specific colors if needed */
#side-stage:has(img[src*="twitch"]):hover { background-color: #fdfaff; }
#side-stage:has(img[src*="youtube"]):hover { background-color: #fffafa; }

/* 7. PATREON (1x1) */
.card-patreon:hover { background-color: #fff5f5; }

/* --- C. BUSINESS CARDS (Wide) --- */

/* 8. WORK WITH ME (2 Columns) */
.card-contact {
    grid-column: span 2;
    background-color: #fff6ee;
    /* Grid Paper Pattern */
    background-image:
        linear-gradient(rgba(255, 134, 182, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 134, 182, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
    border: 2px solid var(--accent-pink); 
}
.card-contact .card-content {
    display: flex; flex-direction: column; height: 100%;
}
.card-contact h3 {
    background: none;
    -webkit-text-fill-color: var(--text-main);
    color: var(--text-main);
}
.card-contact .cta-text {
    color: #d63384; 
    font-weight: 800;
    text-transform: uppercase;
    margin-top: auto; 
}
.card-contact .mascot-img {
    position: absolute; bottom: -10px; right: -10px;  
    width: 100px; height: auto;
    transform: scaleX(-1) rotate(-10deg); 
    opacity: 0.9;
    transition: transform 0.3s ease;
}
.card-contact:hover .mascot-img {
    transform: scale(-1.1, 1.1) rotate(0deg) translateY(-10px);
}

/* 9. SHOP (3 Columns) */
.card-shop {
    grid-column: span 3;
    background-color: #fff6ee; 
    /* Stripe Pattern */
    background-image: repeating-linear-gradient(
        -45deg, 
        rgba(255, 246, 238, 1),        
        rgba(255, 246, 238, 1) 20px,   
        rgba(255, 224, 235, 0.281) 20px, 
        rgba(255, 224, 235, 0.288) 40px  
    );
    border: 2px solid var(--accent-pink);
}
.card-shop .shop-arrow {
    align-self: flex-end; 
    font-size: 2rem;
    color: var(--accent-pink);
    transition: transform 0.3s ease;
    margin-top: auto;
}
.card-shop:hover .shop-arrow { transform: translateX(10px); }

/* =========================================
   6. STATES (Live, Disabled, Etc)
   ========================================= */

/* Construction Mode */
.card.disabled {
    filter: grayscale(0.8) opacity(0.7); 
    pointer-events: none; 
    cursor: default;
    transform: none !important; 
    box-shadow: none !important;
    border-color: #ddd !important; 
}
.coming-soon-badge {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%) rotate(-10deg);
    background: var(--text-main); 
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 800;
    font-size: 0.9rem;
    white-space: nowrap;
    z-index: 100;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    border: 2px solid white;
}

/* Live Badge (Red Pill) */
.live-badge {
    position: absolute; top: 15px; left: 15px;
    background: #ff0000;
    color: white;
    font-weight: 800;
    padding: 6px 12px;
    border-radius: 50px;
    font-size: 0.85rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    z-index: 100; 
    pointer-events: none; 
}

/* =========================================
   7. FOOTER
   ========================================= */
.ghost-footer {
    margin-top: 0px; 
    width: 100%;
    text-align: center;
    z-index: 10; 
}
.ghost-footer p {
    font-size: 0.75rem;
    color: var(--text-main); 
    opacity: 0.3; 
    font-weight: 500;
}

/* =========================================
   8. MOBILE LAYOUT (The Stack)
   ========================================= */
@media (max-width: 768px) {
    
    /* A. Reset Grid to 1 Column */
    .bento-container {
        grid-template-columns: 1fr; 
        grid-auto-rows: auto; 
        width: 100%;
        gap: 20px; 
    }
    
    /* B. Universal Mobile Card Size (Strict 180px) */
    .card {
        width: 100%;      
        height: 180px;    
        min-height: 0;    
        margin-bottom: 0; 
        grid-column: span 1 !important; /* Force everyone to 1 col */
        
        /* Reset content alignment for horizontal look */
        flex-direction: row;
        align-items: center;
    }
    
    /* C. Exceptions (Tall Cards) */
    .card-video { height: 250px; }
    .card-bio   { height: 450px; }
    
    /* D. Exceptions (Content Alignment) */
    /* Work & Shop need to stack text vertically */
    .card-contact, .card-shop {
        height: 180px; 
        flex-direction: column; 
        justify-content: center; 
        align-items: flex-start;
    }
    
    /* E. The Sequence (Order 1-9) */
    #card-bio     { order: 1; }
    #card-video   { order: 2; }
    #side-stage   { order: 3; } 
    #card-discord { order: 4; }
    #card-twitter { order: 5; } 
    #card-insta   { order: 6; }
    #card-patreon { order: 8; }
    #card-contact { order: 7; }
    #card-shop    { order: 9; }
    
    /* F. Footer Spacing */
    .ghost-footer {
        margin-top: 40px;
        margin-bottom: 20px;
    }
}

/* Animation Keyframes */
@keyframes pulse-red {
    0% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.4); }
    50% { box-shadow: 0 0 40px rgba(255, 0, 0, 0.7); }
    100% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.4); }
}